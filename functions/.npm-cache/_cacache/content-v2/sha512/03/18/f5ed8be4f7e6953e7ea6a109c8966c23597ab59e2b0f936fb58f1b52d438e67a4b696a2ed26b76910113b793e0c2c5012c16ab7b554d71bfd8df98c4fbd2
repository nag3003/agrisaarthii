{"_id":"@as-integrations/express4","_rev":"8-c2d71548144b374c75700ae165522151","name":"@as-integrations/express4","dist-tags":{"latest":"1.1.2"},"versions":{"0.0.0":{"name":"@as-integrations/express4","version":"0.0.0","author":{"name":"Apollo","email":"packages@apollographql.com"},"license":"MIT","_id":"@as-integrations/express4@0.0.0","maintainers":[{"name":"michael-watson","email":"michaelwatson93@gmail.com"},{"name":"trevor.scheer","email":"trevor.scheer@gmail.com"},{"name":"glasser","email":"glasser@apollographql.com"}],"homepage":"https://github.com/apollo-server-integrations/apollo-server-integration-express4","bugs":{"url":"https://github.com/apollo-server-integrations/apollo-server-integration-express4/issues"},"dist":{"shasum":"08225057031303aff4d78ded9b36981131e2ba81","tarball":"https://registry.npmjs.org/@as-integrations/express4/-/express4-0.0.0.tgz","fileCount":11,"integrity":"sha512-3zZw0wF9wfc37Qd0AWVjFy5GZsUEt3Dq9bwFFB+CiTAYA6zutS8kUU0a5O5q6NnxyTHazPIV76Wm1A/vrf7zqw==","signatures":[{"sig":"MEUCIQCbCdztfNeF7TX1QPsYevNXEGBRrERmfph5PanJggMbZwIgcnhzR2Cha+z2jJC/NbFcVbm6MdTu7dbtnQR+YxB860c=","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":16724},"main":"dist/index.js","types":"dist/index.d.ts","engines":{"node":">=20"},"gitHead":"a3c06b888abba2bb23f062364afb07ee6f2b7f0a","scripts":{"lint":"eslint .","test":"jest","build":"tsc --build tsconfig.build.json","clean":"git clean -dfqX","watch":"tsc --build --watch","prepack":"npm run build","test:ci":"jest --coverage --ci --maxWorkers=2 --reporters=default --reporters=jest-junit","spell-check":"cspell lint '**' --no-progress || (echo 'Add any real words to cspell-dict.txt.'; exit 1)","prettier-fix":"prettier --write .","prettier-check":"prettier --check .","publish-changeset":"changeset publish"},"_npmUser":{"name":"glasser","email":"glasser@apollographql.com"},"repository":{"url":"git+https://github.com/apollo-server-integrations/apollo-server-integration-express4.git","type":"git"},"_npmVersion":"10.9.2","description":"An Apollo Server integration for use with Express v4","directories":{},"_nodeVersion":"22.13.0","_hasShrinkwrap":false,"devDependencies":{"cors":"2.8.5","jest":"29.7.0","cspell":"9.0.0","eslint":"9.26.0","express":"4.21.2","ts-jest":"29.3.2","ts-node":"10.9.2","prettier":"3.5.3","supertest":"7.1.0","@eslint/js":"9.26.0","jest-junit":"16.0.0","typescript":"5.8.3","@types/cors":"2.8.17","@types/jest":"29.5.14","@types/node":"20.14.8","compression":"1.8.0","@apollo/server":"4.12.0","@types/express":"4.17.2","@changesets/cli":"2.29.3","@types/supertest":"6.0.3","typescript-eslint":"8.32.0","@types/compression":"1.7.5","@apollo/utils.withrequired":"3.0.0","@changesets/changelog-github":"0.5.1","@types/express-serve-static-core":"4.19.5","@apollo/server-integration-testsuite":"4.12.0"},"peerDependencies":{"express":"^4.0.0","@apollo/server":"^4.0.0"},"_npmOperationalInternal":{"tmp":"tmp/express4_0.0.0_1746662411228_0.4423260032884475","host":"s3://npm-registry-packages-npm-production"}},"1.0.0":{"name":"@as-integrations/express4","version":"1.0.0","author":{"name":"Apollo","email":"packages@apollographql.com"},"license":"MIT","_id":"@as-integrations/express4@1.0.0","maintainers":[{"name":"michael-watson","email":"michaelwatson93@gmail.com"},{"name":"trevor.scheer","email":"trevor.scheer@gmail.com"},{"name":"glasser","email":"glasser@apollographql.com"}],"homepage":"https://github.com/apollo-server-integrations/apollo-server-integration-express4","bugs":{"url":"https://github.com/apollo-server-integrations/apollo-server-integration-express4/issues"},"dist":{"shasum":"daf6bcddb282f4ea7508fc6b0797d956c33ea319","tarball":"https://registry.npmjs.org/@as-integrations/express4/-/express4-1.0.0.tgz","fileCount":11,"integrity":"sha512-+dTd6W9akl/Ev9JQMR9RNVIbuZg28/Cj4j7wXOAwZOQzFBe/LB5q2k+CFd07wX1+nclZjqa1dxLU+zIhYW3YLQ==","signatures":[{"sig":"MEYCIQC5ZBE1Pg5gK8asLMqP7f5xkqW3aQqhbAXlgl4UTcTRwQIhAOD6mtTilFALCYEtUCHPK1mzLjDmy+8PXkPRumfxpqru","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":16895},"main":"dist/index.js","types":"dist/index.d.ts","engines":{"node":">=20"},"gitHead":"435cc1cc781f0755aeeb6f3804d6a5bcd1c6066d","scripts":{"lint":"eslint .","test":"jest","build":"tsc --build tsconfig.build.json","clean":"git clean -dfqX","watch":"tsc --build --watch","prepack":"npm run build","test:ci":"jest --coverage --ci --maxWorkers=2 --reporters=default --reporters=jest-junit","spell-check":"cspell lint '**' --no-progress || (echo 'Add any real words to cspell-dict.txt.'; exit 1)","prettier-fix":"prettier --write .","prettier-check":"prettier --check .","changeset-check":"changeset status --verbose --since=origin/main","changeset-publish":"npm run build && changeset publish","changeset-version":"changeset version && npm i"},"_npmUser":{"name":"glasser","email":"glasser@apollographql.com"},"repository":{"url":"git+https://github.com/apollo-server-integrations/apollo-server-integration-express4.git","type":"git"},"_npmVersion":"10.9.2","description":"An Apollo Server integration for use with Express v4","directories":{},"_nodeVersion":"22.13.0","_hasShrinkwrap":false,"devDependencies":{"cors":"2.8.5","jest":"29.7.0","cspell":"9.0.0","eslint":"9.26.0","express":"4.21.2","graphql":"16.11.0","ts-jest":"29.3.2","ts-node":"10.9.2","prettier":"3.5.3","supertest":"7.1.0","@eslint/js":"9.26.0","jest-junit":"16.0.0","typescript":"5.8.3","@types/cors":"2.8.17","@types/jest":"29.5.14","@types/node":"20.14.8","compression":"1.8.0","@apollo/server":"4.12.0","@types/express":"4.17.2","@changesets/cli":"2.29.3","@types/supertest":"6.0.3","typescript-eslint":"8.32.0","@types/compression":"1.7.5","@apollo/utils.withrequired":"3.0.0","@changesets/changelog-github":"0.5.1","@types/express-serve-static-core":"4.19.5","@apollo/server-integration-testsuite":"4.12.0"},"peerDependencies":{"express":"^4.0.0","@apollo/server":"^4.0.0"},"_npmOperationalInternal":{"tmp":"tmp/express4_1.0.0_1746749989409_0.2912492941143552","host":"s3://npm-registry-packages-npm-production"}},"1.1.0":{"name":"@as-integrations/express4","version":"1.1.0","author":{"name":"Apollo","email":"packages@apollographql.com"},"license":"MIT","_id":"@as-integrations/express4@1.1.0","maintainers":[{"name":"michael-watson","email":"michaelwatson93@gmail.com"},{"name":"trevor.scheer","email":"trevor.scheer@gmail.com"},{"name":"glasser","email":"glasser@apollographql.com"}],"homepage":"https://github.com/apollo-server-integrations/apollo-server-integration-express4","bugs":{"url":"https://github.com/apollo-server-integrations/apollo-server-integration-express4/issues"},"dist":{"shasum":"4b2c7e0788dd4ff875bbc4088025e653e6fb363c","tarball":"https://registry.npmjs.org/@as-integrations/express4/-/express4-1.1.0.tgz","fileCount":19,"integrity":"sha512-qI2pRM0VVR3kEMMKc3e0coVNrHfnd1pMjF7sZbmRmlcyqaeaeD7lpV/qqmasUsrm3d9sR42Qn6pyUzv54o0bLg==","signatures":[{"sig":"MEYCIQDtnCv9gAwY8Wo5OqW3jJhE4HWJoisajIWL+8BuxknKcgIhAPYKesoWVVbde/JF6KxlUQrZ1MC8bcqAuL79WmN1zIvn","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":148439},"main":"dist/cjs/index.js","type":"module","types":"dist/esm/index.d.ts","module":"dist/esm/index.js","engines":{"node":">=20"},"exports":{".":{"types":{"default":"./dist/esm/index.d.ts","require":"./dist/cjs/index.d.ts"},"import":"./dist/esm/index.js","require":"./dist/cjs/index.js"}},"gitHead":"b29941d5b221d321fb1e111030b98b3e56052947","scripts":{"lint":"eslint .","test":"jest","clean":"git clean -dfqX","watch":"tsc --build --watch","compile":"tsc --build tsconfig.build.json","prepack":"npm run compile","test:ci":"jest --coverage --ci --maxWorkers=2 --reporters=default --reporters=jest-junit","postcompile":"echo '{\"type\":\"module\"}' > dist/esm/package.json && echo '{\"type\":\"commonjs\"}' > dist/cjs/package.json","spell-check":"cspell lint '**' --no-progress || (echo 'Add any real words to cspell-dict.txt.'; exit 1)","prettier-fix":"prettier --write .","prettier-check":"prettier --check .","changeset-check":"changeset status --verbose --since=origin/main","changeset-publish":"npm run compile && changeset publish","changeset-version":"changeset version && npm i"},"_npmUser":{"name":"glasser","email":"glasser@apollographql.com"},"repository":{"url":"git+https://github.com/apollo-server-integrations/apollo-server-integration-express4.git","type":"git"},"_npmVersion":"10.9.2","description":"An Apollo Server integration for use with Express v4","directories":{},"_nodeVersion":"22.16.0","_hasShrinkwrap":false,"devDependencies":{"cors":"2.8.5","jest":"29.7.0","cspell":"9.0.2","eslint":"9.28.0","express":"4.21.2","graphql":"16.11.0","ts-jest":"29.3.4","ts-node":"10.9.2","prettier":"3.5.3","supertest":"7.1.1","@eslint/js":"9.28.0","jest-junit":"16.0.0","typescript":"5.8.3","@types/cors":"2.8.18","@types/jest":"29.5.14","@types/node":"20.19.0","compression":"1.8.0","@apollo/server":"4.12.2","@types/express":"4.17.22","@changesets/cli":"2.29.4","@types/supertest":"6.0.3","typescript-eslint":"8.33.1","@types/compression":"1.8.0","@apollo/utils.withrequired":"3.0.0","@changesets/changelog-github":"0.5.1","@types/express-serve-static-core":"4.19.6","@apollo/server-integration-testsuite":"4.12.2"},"peerDependencies":{"express":"^4.0.0","@apollo/server":"^4.0.0"},"_npmOperationalInternal":{"tmp":"tmp/express4_1.1.0_1749275655847_0.7739039282815281","host":"s3://npm-registry-packages-npm-production"}},"1.1.1":{"name":"@as-integrations/express4","version":"1.1.1","author":{"name":"Apollo","email":"packages@apollographql.com"},"license":"MIT","_id":"@as-integrations/express4@1.1.1","maintainers":[{"name":"michael-watson","email":"michaelwatson93@gmail.com"},{"name":"trevor.scheer","email":"trevor.scheer@gmail.com"},{"name":"glasser","email":"glasser@apollographql.com"},{"name":"apollo-bot","email":"npm@apollographql.com"}],"homepage":"https://github.com/apollo-server-integrations/apollo-server-integration-express4","bugs":{"url":"https://github.com/apollo-server-integrations/apollo-server-integration-express4/issues"},"dist":{"shasum":"7900fb0bd735ed86d48acca88146aab8e9137849","tarball":"https://registry.npmjs.org/@as-integrations/express4/-/express4-1.1.1.tgz","fileCount":19,"integrity":"sha512-a2pur5nko91UaqWYwNRmcMEtmxgZH9eQzpner2ht/2CNSDuC+PHU3K+/uiISVgLC+2b+1TPzvutPejkN/+bsTw==","signatures":[{"sig":"MEUCIQD3UVBKd5sg5WmNmA/ihuzuR3gJutnFdneaAqn4ORThQAIgT9RruA/Hrf1q9B9MitNgT1LmsqaWCrIPHhg/5VrTxy0=","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":148453},"main":"dist/cjs/index.js","type":"module","types":"dist/esm/index.d.ts","module":"dist/esm/index.js","engines":{"node":">=20"},"exports":{".":{"types":{"default":"./dist/esm/index.d.ts","require":"./dist/cjs/index.d.ts"},"import":"./dist/esm/index.js","require":"./dist/cjs/index.js"}},"gitHead":"da1988d6611a21a0d92e875d41b97c6ccbfb1476","scripts":{"lint":"eslint .","test":"jest","clean":"git clean -dfqX","watch":"tsc --build --watch","compile":"tsc --build tsconfig.build.json","prepack":"npm run compile","test:ci":"jest --coverage --ci --maxWorkers=2 --reporters=default --reporters=jest-junit","postcompile":"echo '{\"type\":\"module\"}' > dist/esm/package.json && echo '{\"type\":\"commonjs\"}' > dist/cjs/package.json","spell-check":"cspell lint '**' --no-progress || (echo 'Add any real words to cspell-dict.txt.'; exit 1)","prettier-fix":"prettier --write .","prettier-check":"prettier --check .","changeset-check":"changeset status --verbose --since=origin/main","changeset-publish":"npm run compile && changeset publish","changeset-version":"changeset version && npm i"},"_npmUser":{"name":"glasser","actor":{"name":"glasser","type":"user","email":"glasser@apollographql.com"},"email":"glasser@apollographql.com"},"repository":{"url":"git+https://github.com/apollo-server-integrations/apollo-server-integration-express4.git","type":"git"},"_npmVersion":"10.9.2","description":"An Apollo Server integration for use with Express v4","directories":{},"_nodeVersion":"22.16.0","_hasShrinkwrap":false,"devDependencies":{"cors":"2.8.5","jest":"29.7.0","cspell":"9.0.2","eslint":"9.28.0","express":"4.21.2","graphql":"16.11.0","ts-jest":"29.3.4","ts-node":"10.9.2","prettier":"3.5.3","supertest":"7.1.1","@eslint/js":"9.28.0","jest-junit":"16.0.0","typescript":"5.8.3","@types/cors":"2.8.18","@types/jest":"29.5.14","@types/node":"20.19.0","compression":"1.8.0","@apollo/server":"4.12.2","@types/express":"4.17.22","@changesets/cli":"2.29.4","@types/supertest":"6.0.3","typescript-eslint":"8.33.1","@types/compression":"1.8.0","@apollo/utils.withrequired":"3.0.0","@changesets/changelog-github":"0.5.1","@types/express-serve-static-core":"4.19.6","@apollo/server-integration-testsuite":"4.12.2"},"peerDependencies":{"express":"^4.0.0","@apollo/server":"^4.0.0 || 5.0.0-rc.0"},"_npmOperationalInternal":{"tmp":"tmp/express4_1.1.1_1751930963589_0.04065082145580656","host":"s3://npm-registry-packages-npm-production"}},"1.1.2":{"name":"@as-integrations/express4","version":"1.1.2","author":{"name":"Apollo","email":"packages@apollographql.com"},"license":"MIT","_id":"@as-integrations/express4@1.1.2","maintainers":[{"name":"michael-watson","email":"michaelwatson93@gmail.com"},{"name":"trevor.scheer","email":"trevor.scheer@gmail.com"},{"name":"glasser","email":"glasser@apollographql.com"},{"name":"apollo-bot","email":"npm@apollographql.com"}],"homepage":"https://github.com/apollo-server-integrations/apollo-server-integration-express4","bugs":{"url":"https://github.com/apollo-server-integrations/apollo-server-integration-express4/issues"},"dist":{"shasum":"cc77e94b461845b57483e1dcc49179fc4dd0996d","tarball":"https://registry.npmjs.org/@as-integrations/express4/-/express4-1.1.2.tgz","fileCount":19,"integrity":"sha512-PGeMcwoOKdYnZ4LtsmM7aLNoel3tbK8wKnfyahdRau1qb7wLbuaXB35zg3w34Ov4bm3WJtO3yzd8Bw5jVE+aIQ==","signatures":[{"sig":"MEYCIQDoi1xoSCssqa3PolrQcl643yQDXmFPtLXwVoFmVn/G7gIhAIdZhDJawNmthppZ6iU4UVJ7bhzr0ezRvsAgrt5PJiej","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":148449},"main":"dist/cjs/index.js","type":"module","types":"dist/esm/index.d.ts","module":"dist/esm/index.js","engines":{"node":">=20"},"exports":{".":{"types":{"default":"./dist/esm/index.d.ts","require":"./dist/cjs/index.d.ts"},"import":"./dist/esm/index.js","require":"./dist/cjs/index.js"}},"gitHead":"604392ceae3288adab0855a1f6a55129efd9369e","scripts":{"lint":"eslint .","test":"jest","clean":"git clean -dfqX","watch":"tsc --build --watch","compile":"tsc --build tsconfig.build.json","prepack":"npm run compile","test:ci":"jest --coverage --ci --maxWorkers=2 --reporters=default --reporters=jest-junit","postcompile":"echo '{\"type\":\"module\"}' > dist/esm/package.json && echo '{\"type\":\"commonjs\"}' > dist/cjs/package.json","spell-check":"cspell lint '**' --no-progress || (echo 'Add any real words to cspell-dict.txt.'; exit 1)","prettier-fix":"prettier --write .","prettier-check":"prettier --check .","changeset-check":"changeset status --verbose --since=origin/main","changeset-publish":"npm run compile && changeset publish","changeset-version":"changeset version && npm i"},"_npmUser":{"name":"glasser","email":"glasser@apollographql.com"},"repository":{"url":"git+https://github.com/apollo-server-integrations/apollo-server-integration-express4.git","type":"git"},"_npmVersion":"10.9.2","description":"An Apollo Server integration for use with Express v4","directories":{},"_nodeVersion":"22.16.0","_hasShrinkwrap":false,"devDependencies":{"cors":"2.8.5","jest":"29.7.0","cspell":"9.0.2","eslint":"9.28.0","express":"4.21.2","graphql":"16.11.0","ts-jest":"29.3.4","ts-node":"10.9.2","prettier":"3.5.3","supertest":"7.1.1","@eslint/js":"9.28.0","jest-junit":"16.0.0","typescript":"5.8.3","@types/cors":"2.8.18","@types/jest":"29.5.14","@types/node":"20.19.0","compression":"1.8.0","@apollo/server":"4.12.2","@types/express":"4.17.22","@changesets/cli":"2.29.4","@types/supertest":"6.0.3","typescript-eslint":"8.33.1","@types/compression":"1.8.0","@apollo/utils.withrequired":"3.0.0","@changesets/changelog-github":"0.5.1","@types/express-serve-static-core":"4.19.6","@apollo/server-integration-testsuite":"4.12.2"},"peerDependencies":{"express":"^4.0.0","@apollo/server":"^4.0.0 || ^5.0.0"},"_npmOperationalInternal":{"tmp":"tmp/express4_1.1.2_1752774460172_0.8896967802270059","host":"s3://npm-registry-packages-npm-production"}}},"time":{"created":"2025-05-08T00:00:11.124Z","modified":"2025-10-16T17:15:30.195Z","0.0.0":"2025-05-08T00:00:11.414Z","1.0.0":"2025-05-09T00:19:49.590Z","1.1.0":"2025-06-07T05:54:16.044Z","1.1.1":"2025-07-07T23:29:23.787Z","1.1.2":"2025-07-17T17:47:40.381Z"},"bugs":{"url":"https://github.com/apollo-server-integrations/apollo-server-integration-express4/issues"},"author":{"name":"Apollo","email":"packages@apollographql.com"},"license":"MIT","homepage":"https://github.com/apollo-server-integrations/apollo-server-integration-express4","repository":{"url":"git+https://github.com/apollo-server-integrations/apollo-server-integration-express4.git","type":"git"},"description":"An Apollo Server integration for use with Express v4","maintainers":[{"email":"michaelwatson93@gmail.com","name":"michael-watson"},{"email":"glasser@apollographql.com","name":"glasser"},{"email":"npm@apollographql.com","name":"apollo-bot"},{"email":"mail@lenzw.de","name":"phryneas"}],"readme":"# Apollo Server Integration for Express v4\n\n## **Introduction**\n\nThis package integrates Apollo Server v4 with version 4 of the Express web framework, by exporting a middleware that executes GraphQL operations.\n\nIt is identical to the middleware exported at `@apollo/server/express4` from the core `@apollo/server` v4 package. It is being provided separately so that we can also provide an integration with Express v5 (`@as-integrations/express5`); future major versions of Apollo Server will not have built-in support for Express.\n\n## **Requirements**\n\n- **[Node.js v20](https://nodejs.org/)** or later\n- **[Express v4](https://expressjs.com/)**; this package does *not* support Express v5\n- **[Apollo Server v4](https://www.apollographql.com/docs/apollo-server/)**\n\n## **Installation**\n\n```bash\nnpm install @apollo/server graphql express@4 @as-integrations/express4 cors\n```\n\n## **Usage**\n\nSet up [Express](https://expressjs.com/) & [Apollo Server](https://www.apollographql.com/docs/apollo-server/) like you usually would, and then connect the two by using the `expressMiddleware` middleware:\n\n```typescript\nimport { ApolloServer } from '@apollo/server';\nimport { expressMiddleware } from '@as-integrations/express4';\nimport { ApolloServerPluginDrainHttpServer } from '@apollo/server/plugin/drainHttpServer';\nimport express from 'express';\nimport http from 'http';\nimport cors from 'cors';\nimport { typeDefs, resolvers } from './schema';\n\ninterface MyContext {\n  token?: string;\n}\n\n// Required logic for integrating with Express\nconst app = express();\n// Our httpServer handles incoming requests to our Express app.\n// Below, we tell Apollo Server to \"drain\" this httpServer,\n// enabling our servers to shut down gracefully.\nconst httpServer = http.createServer(app);\n\nconst server = new ApolloServer<MyContext>({\n  typeDefs,\n  resolvers,\n  plugins: [ApolloServerPluginDrainHttpServer({ httpServer })],\n});\n// Ensure we wait for our server to start\nawait server.start();\n\n// Set up our Express middleware to handle CORS, body parsing,\n// and our expressMiddleware function.\napp.use(\n  '/',\n  cors<cors.CorsRequest>(),\n  express.json(),\n  // expressMiddleware accepts the same arguments:\n  // an Apollo Server instance and optional configuration options\n  expressMiddleware(server, {\n    context: async ({ req }) => ({ token: req.headers.token }),\n  }),\n);\n\nawait new Promise<void>((resolve) =>\n  httpServer.listen({ port: 4000 }, resolve),\n);\nconsole.log(`ðŸš€ Server ready at http://localhost:4000/`);\n```\n\nNote: **You must call and await `server.start()` before using the integration.**\n","readmeFilename":"README.md"}